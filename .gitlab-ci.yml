stages:
  - build
  - test

build-job:
  image: rust:latest
  stage: build
  scripts:
    - cargo build build
  artifacts:
    paths:
      - "target/"

test-job:
  image: rust:latest
  stage: test
  scripts:
    - cargo fmt
    - cargo check
    - cargo test
  dependencies:
    - build-job

